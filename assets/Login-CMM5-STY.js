import{p as E,u as F,a as A,b as C,c as H,r as a,i as I,j as e,I as g,B as P,S as k,T as z,J as T}from"./index-CtChZPOB.js";import{A as q,F as B}from"./FormHeader-HyEN-cdw.js";const J=E.a`
  color: var(--color-blue-500);
  font-size: 1rem;
  text-decoration: none;
`,U=()=>{var d,u;const{t}=F(),m=A(),p=C(),{login:f,loading:i}=H(),[r,h]=a.useState(""),[n,x]=a.useState(""),[l,c]=a.useState(!1),[j,o]=a.useState(!1),v=I.language,w=((u=(d=p.state)==null?void 0:d.from)==null?void 0:u.pathname)||"/",y=({target:{value:s}})=>{h(s)},S=({target:{value:s}})=>{x(s)},b=async s=>{s.preventDefault(),o(!0);try{await f(r,n),m(w,{replace:!0})}catch{o(!1),c(!1),T.error(t("invalidUsernameorPassword"),{style:{color:"var(--color-rejected-500)",background:"var(--color-rejected-100)",padding:"1rem"}})}};a.useEffect(()=>{i&&o(!0)},[i]);const L=()=>{o(!1),c(r.trim()!==""&&n.trim()!=="")};return a.useEffect(()=>{L()},[r,n]),e.jsxs(e.Fragment,{children:[e.jsxs(q,{onSubmit:b,children:[e.jsx(B,{title:t("Login"),subtitle:t("noAccount"),link:{href:"/signup",text:t("SignUp")}}),e.jsx(g,{id:"username",variant:"primary",label:t("EmailLogin"),type:"text",value:r,height:"large",required:!0,onChange:y}),e.jsx(g,{id:"password",variant:"primary",label:t("Password"),type:"password",height:"large",value:n,required:!0,onChange:S}),e.jsx(J,{href:"forget-password",children:t("ForgotPassword")}),e.jsx(P,{variant:l?"primary":"secondary",size:"large",width:"full",disabled:!l,type:"submit",children:j?e.jsx(k,{size:"1.5rem"}):t("Login")})]}),e.jsx(z,{position:"top-center",dir:v==="en"?"ltr":"rtl"})]})},N=()=>e.jsx(U,{});export{N as default};
